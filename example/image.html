<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WebStorage</title>
  </head>
  <body>
    <script type="text/javascript" src="../Storage.js"></script>
    <script type="text/javascript">
      /* Example with an image */

      let storage = new Storage(true, 315360000000); // 10 ans avant destruction si utilisation des cookies
      
      let image = new Image();
      image.src = "songbird.png";

      storage.set({
        type: storage.Blob, 
        key: "id", 
        value: image
      }).then(() => {
        console.log("Les données ont bien été reçues et traitées.");

        storage.get({
          type: storage.Blob,
          key: "id"
        }).then((value) => {
          document.body.appendChild(value);

          // storage.remove("id");
          storage.removeAll();
        });
      });
    </script>
  </body>
</html>